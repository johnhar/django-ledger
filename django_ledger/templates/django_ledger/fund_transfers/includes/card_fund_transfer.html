{% load django_ledger %}
{% load i18n %}

<div id="djl-fund-transfer-card-widget">
  {% if not create_fund_transfer %}
    {% if style == 'dashboard' %}
      <div class="card">
        <div class="card-content">
          <p class="subtitle has-text-grey has-text-right">
            <span class="icon">{% icon "ri:fund-transfer-line" 16 %}</span>
            {% trans 'Fund Transfer' %}
          </p>
        </div>
        <footer class="card-footer">
          <a href="{% url 'django_ledger:fund-transfer-update' entity_slug=entity_slug fund_transfer_pk=fund_transfer.uuid %}"
             class="card-footer-item has-text-warning-dark has-text-centered">{% trans 'Update' %}</a>
        </footer>
      </div>
    {% elif style == 'fund-transfer-detail' %}
      <div class="card">
        <div class="card-header">
          <h2 class="card-header-title has-text-weight-light is-size-3">
          <span
              class="icon is-large">{% icon 'uil:fund-transfer' 36 %}</span>{% trans 'Fund Transfer' %} {{ fund_transfer.fund_transfer_number }}
          </h2>
        </div>
        <div class="card-content has-text-centered">
          <h3 class="is-size-3 has-text-centered has-text-weight-bold has-text-warning">{% trans 'This fund transfer is' %} {{ fund_transfer.get_fund_transfeer_status_display }}</h3>
          <p class="is-size-3 has-text-dark">{% trans 'Amount' %}:
            <span class="has-text-weight-bold">{% currency_symbol %}{{ fund_transfer.amount | currency_format }}</span>
          </p>
          <p class="is-size-3 has-text-dark">{% trans 'From' %}:
            <span class="has-text-weight-bold">{{ fund_transfer.from_fund.name }}</span>
          </p>
          <p class="is-size-3 has-text-dark">{% trans 'To' %}:
            <span class="has-text-weight-bold">{{ fund_transfer.to_fund.name }}</span>
          <p class="is-size-3 has-text-dark">{% trans 'Date' %}:
            <span class="has-text-weight-bold">{{ fund_transfer.transfer_date }}</span>
          </p>
        </div>
        <footer class="card-footer">
          {# UPDATE BUTTON #}
          <a href="{% url 'django_ledger:fund-transfer-update' entity_slug=entity_slug fund_transfer_pk=fund_transfer.uuid %}"
             id="djl-fund-transfer-detail-update-button"
             class="card-footer-item has-text-primary has-text-centered">{% trans 'Update' %}</a>

          {# VOID BUTTON #}
          {% if fund_transfer.can_void %}
            <a onclick="djLedger.toggleModal('{{ fund_transfer.get_mark_as_void_html_id }}')"
               id="{{ fund_transfer.get_mark_as_void_html_id }}-button"
               class="card-footer-item has-text-danger has-text-centered">{% trans 'Void' %}</a>
            {# MARK AS VOID MODAL #}
            {% modal_action_v2 fund_transfer fund_transfer.get_mark_as_void_url fund_transfer.get_mark_as_void_message fund_transfer.get_mark_as_void_html_id %}
          {% endif %}

        </footer>
      </div>
    {% endif %}
  {% else %}
    {# CREATE FUND TRANSFER CARD #}
    <div class="box has-text-centered">
      <a href="{% url 'django_ledger:fund-transfer-create' entity_slug=entity_slug %}">
        <span class="icon is-large has-text-grey">{% icon "ic:baseline-add-circle-outline" 48 %}</span></a>
      <h2 class="is-size-3 has-text-grey">{% trans 'New Fund Transfer' %}</h2>
    </div>
  {% endif %}
</div>